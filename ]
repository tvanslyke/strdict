#ifndef MAKE_KEY_INFO_H
#define MAKE_KEY_INFO_H

#include "KeyInfo.h"
#include <variant>

struct KeyMetaInfo
{
	
	KeyMetaInfo(
	~KeyMetaInfo()
	{
		if(!buff_)
			PyBuffer_Release(&buff_);
	}

	bool error() const
	{ return buff_.buf; }

	operator bool() const
	{ return not error(); }
private:
	Py_buffer buff_{nullptr};
};

KeyInfo make_key_info(PyObject* key)
{

int KeyInfo_Init(PyObject* key, KeyInfo* ki, Py_buffer* buff)
}


#endif /* MAKE_KEY_INFO_H */
